--- drivers/video/msm/mdp4_overlay_mddi.c
+++ drivers/video/msm/mdp4_overlay_mddi.c
@@ -489,14 +546,15 @@
 void mdp4_mddi_kickoff_video(struct msm_fb_data_type *mfd,
 				struct mdp4_overlay_pipe *pipe)
 {
-	pr_debug("%s: pid=%d\n", __func__, current->pid);
+    /*delete some lines*/
+
 	mdp4_mddi_overlay_kickoff(mfd, pipe);
 }
 
 void mdp4_mddi_kickoff_ui(struct msm_fb_data_type *mfd,
 				struct mdp4_overlay_pipe *pipe)
 {
-	pr_debug("%s: pid=%d\n", __func__, current->pid);
+    /*delete some lines*/
 	mdp4_mddi_overlay_kickoff(mfd, pipe);
 }
 
@@ -504,6 +562,14 @@
 void mdp4_mddi_overlay_kickoff(struct msm_fb_data_type *mfd,
 				struct mdp4_overlay_pipe *pipe)
 {
+/* use dma_p(overlay) pipe ,change bpp into 16 */
+#ifdef CONFIG_FB_MSM_BPP_SWITCH
+	if(16 != mfd->panel_info.bpp)
+	{
+		mdp4_switch_bpp_config(mfd,16);	
+	}
+#endif
+
 	/* change mdp clk while mdp is idle` */
 	mdp4_set_perf_level();
 
@@ -607,6 +673,13 @@
 void mdp4_mddi_dma_s_kickoff(struct msm_fb_data_type *mfd,
 				struct mdp4_overlay_pipe *pipe)
 {
+/* use dma_s pipe ,change bpp into 24 */
+#ifdef CONFIG_FB_MSM_BPP_SWITCH
+	if(24 != mfd->panel_info.bpp)
+	{
+		mdp4_switch_bpp_config(mfd,24);	
+	}
+#endif
 	/* change mdp clk while mdp is idle` */
 	mdp4_set_perf_level();
 
